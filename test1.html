<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>My Aviation Homepage</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #DE1B23;
            --secondary-color: #1976D2;
            --text-color: #333; 
            --background-color: #e0eafc;
            --card-bg-color: #fff;
            --shadow-color: rgba(0, 0, 0, 0.2);
            --link-color: #2196F3; 
            --link-hover-color: #fff;
            --card-text-color: #333;
            --border-color: #ddd; /* Light gray border */
        }

        [data-theme="dark"] {
            --primary-color: #DE1B23;
            --secondary-color: #64b5f6;
            --text-color: #e0e0e0;
            --background-color: #121212;
            --card-bg-color: #1e1e1e;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --link-color: #90caf9; 
            --link-hover-color: #121212;
            --card-text-color: #fff; 
            --border-color: #555; /* Darker gray border */
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        header {
            background-color: var(--primary-color);
            color: #fff;
            padding: 10px 20px;
            text-align: center;
            box-shadow: 0 2px 5px var(--shadow-color);
        }

        .container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            grid-gap: 20px;
            max-width: 1200px; 
            margin: 20px auto; 
            padding: 20px;
        }

        .card {
            background-color: var(--card-bg-color);
            border-radius: 8px;
            box-shadow: 0 2px 5px var(--shadow-color);
            padding: 20px;
            transition: background-color 0.3s ease, box-shadow 0.3s ease, color 0.3s ease;
            color: var(--card-text-color);
        }

        .card:hover {
            background-color: var(--primary-color);
            box-shadow: 0 4px 8px var(--shadow-color);
        }

        .card:hover a {
            color: var(--link-hover-color);
        }

        .card h2 {
            color: var(--card-text-color);
            margin-bottom: 10px;
            text-align: center;
        }

        .card a {
            text-decoration: none;
            color: var(--link-color);
        }

        .theme-toggle {
            grid-column: span 2; 
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .theme-toggle button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            background-color: var(--primary-color);
            color: #fff;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-weight: bold;
        }

        .theme-toggle button:hover {
            background-color: var(--secondary-color);
        }

        .greeting {
            grid-column: span 2; 
            font-size: 1.2em;
            margin: 10px 0;
            text-align: center;
        }

        .search-area form,
        .flight-tracker,
        .news-section ul {
            text-align: center;
        }

        .news-section li {
            list-style: none;
            margin-bottom: 5px;
        }

        /* Responsive design improvements */
        @media (max-width: 768px) { 
            .container {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            }

            .theme-toggle,
            .greeting {
                grid-column: span 1; 
            }

            .time-section {
                grid-column: span 1; 
            }
        }

        /* Modern Input Fields */
        input[type="text"], select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid var(--border-color); 
            border-radius: 4px;
            box-sizing: border-box;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 5px rgba(222, 27, 35, 0.5); 
        }

        .flight-tracker input[type="text"] {
            width: 48%; 
        }

        /* Time Section Styles */
        .time-section {
            grid-column: span 2; 
            display: flex;
            justify-content: space-around; 
            flex-wrap: wrap; 
            margin-bottom: 20px;
        }

        .time-card {
            background-color: var(--card-bg-color);
            border-radius: 8px;
            box-shadow: 0 2px 5px var(--shadow-color);
            padding: 10px; 
            margin-bottom: 10px; 
            text-align: center;
            flex: 1 0 150px; 
        }
    </style>
</head>
<body data-theme="dark"> 
    <header>
        <h1>My Aviation Homepage</h1>
    </header>

    <div class="container">
        <div class="theme-toggle">
            <button onclick="toggleTheme()">Toggle Light Mode</button> 
        </div>

        <div class="greeting" id="greeting"></div>

        <div class="time-section"> 
            <div class="time-card" id="local-time"></div>
            <div class="time-card" id="zulu-time"></div>
            <div class="time-card" id="sofia-time"></div>
            <div class="time-card" id="tokyo-time"></div>
            <div class="time-card" id="los-angeles-time"></div>
        </div>

        <div class="card">
            <h2>Search the Web</h2>
            <form id="google-search-form" onsubmit="submitGoogleSearch(event)"> 
                <input type="text" name="q" placeholder="Search Google" id="google-search-box" autocomplete="off"> 
                <button type="submit">Search</button>
            </form>
            <div style="margin-top: 10px;">
                <a href="https://www.google.com/advanced_search" target="_blank">Advanced Search</a>
            </div>
        </div>

        <div class="card">
            <h2>Track Your Flight</h2>
            <form id="flight-tracker-form" onsubmit="openFlightTracker(event)">
                <input type="text" id="airline-code" value="AAL" placeholder="Airline Code">
                <input type="text" id="flight-number" placeholder="Flight Number">
                <select id="tracking-service">
                    <option value="flightradar24">FlightRadar24</option>
                    <option value="flightaware">FlightAware</option>
                </select>
                <button type="submit">Track</button>
            </form>
        </div>

        <div class="card">
            <h2>Current Weather at DFW</h2>
            <div id="weather-info">Fetching weather...</div>
        </div>

        <div class="card">
            <h2>Aviation News</h2>
            <ul>
                <li><a href="https://www.flightglobal.com/" target="_blank">FlightGlobal</a></li>
                <li><a href="https://www.avweb.com/" target="_blank">AVweb</a></li>
                <li><a href="https://simpleflying.com/" target="_blank">Simple Flying</a></li>
                <li><a href="https://www.airliners.net/" target="_blank">Airliners.net</a></li>
            </ul>
        </div>

        <div class="card">
            <h2>Quick Links</h2>
            <a href="https://ally1124.github.io/index.html" target="_blank">Home</a><br> 
            <a href="https://chat.openai.com/" target="_blank">ChatGPT</a><br>
            <a href="https://webmail.aa.com/" target="_blank">Email</a><br>
            <a href="https://teams.microsoft.com/" target="_blank">Teams</a><br>
            <a href="https://airportal.aa.com/" target="_blank">Airportal</a><br>
            <a href="https://spteam.aa.com/sites/D5B" target="_blank">DFW ABR Site</a><br>
            <a href="https://www.aa.com/flight-status/" target="_blank">AA.com Flight Status</a><br>
            <a href="https://www.aa.com/baggage/bag-tag-lookup" target="_blank">Bag Tag Lookup</a>
        </div>
    </div>

    <script>
        const API_KEY = '3aaca9925662e52771fac9ab848724e7'; 
        const DFW_LAT = 32.8998;
        const DFW_LON = -97.0403;

        function toggleTheme() {
            const theme = document.body.getAttribute('data-theme');
            document.body.setAttribute('data-theme', theme === 'dark' ? '' : 'dark');
        }

        function submitGoogleSearch(event) {
            event.preventDefault(); 
            const searchTerm = document.getElementById('google-search-box').value;
            window.open(`https://www.google.com/search?q=${searchTerm}`, '_blank');
        }

        function openFlightTracker(event) {
            event.preventDefault(); 
            const airlineCode = document.getElementById('airline-code').value;
            const flightNumber = document.getElementById('flight-number').value;
            const service = document.getElementById('tracking-service').value;
            const url = service === 'flightradar24'
                ? `https://www.flightradar24.com/${airlineCode}${flightNumber}`
                : `https://flightaware.com/live/flight/${airlineCode}${flightNumber}`;
            window.open(url, '_blank');
        }

        function setGreeting() {
            const now = new Date();
            const hours = now.getHours();
            let greeting = "Welcome!";
            if (hours < 12) greeting = "Good Morning!";
            else if (hours < 18) greeting = "Good Afternoon!";
            else greeting = "Good Evening!";

            // Personalized greeting using your name (from memory)
            document.getElementById("greeting").textContent = `${greeting}, Alex Alexov!`; 
        }

        async function fetchWeather() {
            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${DFW_LAT}&lon=${DFW_LON}&units=imperial&appid=${API_KEY}`
                );
                const data = await response.json();

                const weather = data.weather[0].description;
                const temp = Math.round(data.main.temp);
                const windSpeed = Math.round(data.wind.speed);

                document.getElementById('weather-info').innerHTML = `
                    <strong>${weather.toUpperCase()}</strong><br>
                    Temperature: ${temp}Â°F<br>
                    Wind Speed: ${windSpeed} mph
                `;
            } catch (error) {
                document.getElementById('weather-info').textContent =
                    'Unable to fetch weather data at the moment.';
            }
        }

        function updateClocks() {
            const now = new Date();

            document.getElementById('local-time').textContent = `Local: ${now.toLocaleTimeString()}`;
            document.getElementById('zulu-time').textContent = `Zulu: ${now.toUTCString().slice(17, 25)}`; 

            const options = { timeZone: 'Europe/Sofia', hour: '2-digit', minute: '2-digit' };
            document.getElementById('sofia-time').textContent = `Sofia: ${now.toLocaleTimeString('en-US', options)}`;

            options.timeZone = 'Asia/Tokyo';
            document.getElementById('tokyo-time').textContent = `Tokyo: ${now.toLocaleTimeString('en-US', options)}`;

            options.timeZone = 'America/Los_Angeles';
            document.getElementById('los-angeles-time').textContent = `Los Angeles: ${now.toLocaleTimeString('en-US', options)}`;
        }

        setGreeting();
        fetchWeather();
        updateClocks(); 
        setInterval(updateClocks, 1000); 
    </script>
</body>
</html>
